/* Main CSS file for the References App */
/* Define color variables for buttons */
:root {
  /* Colors */
  --neutral: #6c757d;
  --neutral-hover: #5a6268;

  --cancel: #ff4d4d;
  --cancel-hover: #e60000;

  --create: #28a745;
  --create-hover: #218838;

  /* Form */
  --border-light: #cccccc;
  --border-form: #dddddd;

  /* Buttons */
  --btn-text: #ffffff;
  --btn-radius: 4px;
  --btn-padding: 0.5rem 1rem;

  /* Focus */
  --focus-color: #007bff;
}

body {
  margin: auto;
  max-width: 50em;
  font-family: sans-serif;
}
/*Title styles*/
.head-form {
  text-align: left;
  font-family: sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  margin-top: 1rem;
  margin-bottom: 1rem;
  margin-left: 5%;
  color: #111111;
}
/* Reference card styles */
.references-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 0;
  margin: 0 0 1.25rem 0;
}

.reference-card {
  border: 1px solid #e0e0e0;
  padding: 1rem;
  border-radius: 8px;
  background: rgb(228, 228, 228);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}

.reference-header {
  margin-bottom: 0.5rem;
}

.reference-title {
  font-family: sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: #111111;
  text-decoration: none;
}

.reference-title:hover {
  text-decoration: underline;
}

.reference-meta p {
  margin: 0.25rem 0;
  color: #333333;
  font-size: 0.95rem;
}

.form {
  width: 90%;
  margin: 1rem auto 2rem auto;
  padding: 1.5rem;

  background: rgb(238, 238, 238);
  border: 1px solid var(--border-form);
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  box-sizing: border-box;

  align-self: center;
}

/* ================================
   SEARCH BAR STYLES
================================ */
.search-container {
  background: rgb(238, 238, 238);
  border: 1px solid var(--border-form);
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.search-field {
  margin-bottom: 1rem;
}

.search-field label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  font-size: 1rem;
  color: #333333;
}

.search-field input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--border-light);
  border-radius: 4px;
  box-sizing: border-box;
  font-size: 1rem;
}

.search-field select {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--border-light);
  border-radius: 4px;
  box-sizing: border-box;
  font-size: 1rem;
  background-color: #ffffff;
}

.search-field input:focus,
.search-field select:focus {
  border-color: var(--focus-color);
  outline: none;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

/* ================================
   REQUIRED FIELD INDICATOR
================================ */
.required {
  color: rgb(230, 0, 0);
  margin-left: 3px;
  font-weight: bold;
}

/* ================================
   FORM FIELDS
================================ */
.form-field {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  background-color: rgb(228, 228, 228);

  border: 1px solid var(--border-light);
  border-radius: 4px;
  box-sizing: border-box;
}

/* Labels */
.form-field label {
  display: block;
  margin-bottom: 0.2rem;
  font-weight: 600;
}

/* Inputs + Selects */
.form-field input,
.form-field select {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid var(--border-light);
  border-radius: 4px;
  box-sizing: border-box;
  font-size: 1rem;
}

/* Focus styles */
.form-field input:focus,
.form-field select:focus {
  border-color: var(--focus-color);
  outline: none;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

/* ================================
   AUTHOR FIELDS
================================ */
.form-field .author-row {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
}

/* Make space for remove button */
.form-field #author {
  width: 85%;
}

/* ================================
   BUTTONS (GLOBAL)
================================ */
button {
  color: var(--btn-text);
  border: none;
  padding: var(--btn-padding);
  border-radius: var(--btn-radius);
  cursor: pointer;
  margin-right: 0.5rem;
}

/* Style variants */
.btn-neutral {
  background: var(--neutral);
}
.btn-neutral:hover {
  background: var(--neutral-hover);
}

.btn-cancel {
  background: var(--cancel);
}
.btn-cancel:hover {
  background: var(--cancel-hover);
}

.btn-create {
  background: var(--create);
}
.btn-create:hover {
  background: var(--create-hover);
}

/* Author field buttons */
.remove-author {
  margin-left: 0.5rem;
  padding: 0.3rem 0.6rem;
}
.remove-author {
  background: var(--cancel);
}
.remove-author:hover {
  background: var(--cancel-hover);
}

#add-author {
  background: var(--create);
}
#add-author:hover {
  background: var(--create-hover);
}

/* Bouncing Cat */

#bouncing-cat {
  position: relative;
  animation: bounce 1s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-30px);
  }
  60% {
    transform: translateY(-15px);
  }
}


/* ================================
   INFO ICON WITH TOOLTIP
/* Row containing a label and info icon */
.label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  gap: 8px;
  min-height: 32px;
}

/* Wrapper for the info icon and tooltip */
.info-container {
  position: relative;
  display: inline-block;
}

/* Small circular info icon */
.info-icon {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 16px;
  height: 16px;
  font-size: 10px;
  font-weight: bold;
  font-family: Consolas, monospace;
  cursor: default;

  background: white;
  color: black;
  border: 2px solid black;
  border-radius: 50%;
}

/* Tooltip (appears on hover, positioned left of icon) */
.tooltip {
  position: absolute;
  top: 50%;
  right: 22px;
  transform: translateY(-10px);

  padding: 6px 10px;
  font-size: 13px;
  white-space: nowrap;

  background: #333;
  color: #fff;
  border-radius: 5px;

  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Show tooltip on hover */
.info-container:hover .tooltip {
  visibility: visible;
  opacity: 0.8;
}

/* ================================
   BIBTEX PREVIEW STYLES
================================ */
.bibtex-preview {
  width: 100%;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  
  border: 1px solid var(--border-light);
  border-radius: 4px;
  box-sizing: border-box;
}

/* ================================
   DARK MODE TOGGLE BUTTON
================================ */
.dark-mode-toggle {
  position: absolute;
  top: 1rem;
  right: 1rem;
  
  background: transparent;
  border-radius: 10%;
  width: 40px;
  height: 40px;
  
  font-size: 1.5rem;
  cursor: pointer;
  
  /* Center the icon */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ================================
   DARK MODE
================================ */
body.dark-mode {
  background-color: #222222;
  color: #e0e0e0;
}

body.dark-mode .head-form {
  color: #e0e0e0;
}

body.dark-mode .reference-card {
  background: #2d2d2d;
  border-color: #444444;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

body.dark-mode .reference-title {
  color: #e0e0e0;
}

body.dark-mode .reference-meta p {
  color: #b0b0b0;
}

body.dark-mode .form {
  background: #2d2d2d;
  border-color: #555555;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

body.dark-mode .search-container {
  background: #2d2d2d;
  border-color: #555555;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

body.dark-mode .form-field {
  background: #2d2d2d;
  border-color: #444444;
}

body.dark-mode .search-field label,
body.dark-mode .form-field label {
  color: #e0e0e0;
}

body.dark-mode .search-field input,
body.dark-mode .search-field select,
body.dark-mode .form-field input,
body.dark-mode .form-field select {
  background-color: #1e1e1e;
  color: #e0e0e0;
  border-color: #444444;
}

body.dark-mode .info-icon {
  background: #2d2d2d;
  color: #e0e0e0;
  border-color: #e0e0e0;
}

body.dark-mode .tooltip {
  background: #444444;
  color: #e0e0e0;
}

body.dark-mode .bibtex-preview {
  background-color: #1e1e1e;
  color: #e0e0e0;
  border-color: #444444;
}

/* Respect system preference by default */
@media (prefers-color-scheme: dark) {
  body:not(.light-mode) {
    background-color: #1e1e1e;
    color: #e0e0e0;
  }

  body:not(.light-mode) .dark-mode-toggle {
    background: #2d2d2d;
    border-color: #e0e0e0;
  }

  body:not(.light-mode) .head-form {
    color: #e0e0e0;
  }

  body:not(.light-mode) .reference-card {
    background: #2d2d2d;
    border-color: #444444;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  body:not(.light-mode) .reference-title {
    color: #e0e0e0;
  }

  body:not(.light-mode) .reference-meta p {
    color: #b0b0b0;
  }

  body:not(.light-mode) .form {
    background: #2d2d2d;
    border-color: #555555;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  body:not(.light-mode) .search-container {
    background: #2d2d2d;
    border-color: #555555;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  body:not(.light-mode) .form-field {
    background: #2d2d2d;
    border-color: #444444;
  }

  body:not(.light-mode) .search-field label,
  body:not(.light-mode) .form-field label {
    color: #e0e0e0;
  }

  body:not(.light-mode) .search-field input,
  body:not(.light-mode) .search-field select,
  body:not(.light-mode) .form-field input,
  body:not(.light-mode) .form-field select {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border-color: #444444;
  }

  body:not(.light-mode) .info-icon {
    background: #2d2d2d;
    color: #e0e0e0;
    border-color: #e0e0e0;
  }

  body:not(.light-mode) .tooltip {
    background: #444444;
    color: #e0e0e0;
  }

  body:not(.light-mode) .bibtex-preview {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border-color: #444444;
  }
}
